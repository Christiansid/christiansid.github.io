/*! For license information please see main.20a6eb30cccc2b46f21f.bundle.js.LICENSE.txt */
(()=>{var e,t={976:(e,t,i)=>{"use strict";i(260);class s extends Phaser.GameObjects.Text{constructor(e){super(e,10,10,"",{color:"black",fontSize:"42px"}),e.add.existing(this),this.setOrigin(0),this.score=0}update(){this.setText(`Score: ${this.score}`)}increaseScore(){this.score+=1,this.update()}getScore(){return this.score}}class a extends Phaser.GameObjects.Image{constructor(e){super(e.scene,e.x,e.y,e.key),e.scene.physics.world.enableBody(this),console.log(this.body),e.scene.add.existing(this),this.body.setCollideWorldBounds(!0,0,0,!0)}create(){}delete(){}}class n extends a{constructor(e,t){return super(e),this.setScale(e.scale),this.scene=e.scene,this.block_group=e.scene.add.group(),this.block_speed=t,this.scale=e.scale,this.create(),this}create(){let e=this.scale,t=522*e,i=Phaser.Math.Between(2,3);this.body.setVelocityX(-this.block_speed),this.body.setAllowGravity(!1),this.x=this.scene.cameras.main.width-t/2;for(var s=2;s<=i;s++){let i=d[Math.floor(Math.random()*d.length)];var a=this.scene.physics.add.image(window.innerWidth-t/2,this.scene.ground.y-this.scene.ground.height/2-522*e*s+522*e/2,i).setScale(e);a.body.setAllowGravity(!1),this.block_group.add(a),a.body.setVelocityX(-this.block_speed)}this.block_group}destroy(){this.block_group.clear(),super.destroy()}updateSpeed(e){this.block_speed=e}collide(){}}class r extends Phaser.GameObjects.Sprite{constructor(e){super(e.scene,e.x,e.y,e.key),this.setScale(e.scale),e.scene.physics.world.enable(this),e.scene.add.existing(this),this.inAir=!1,this.jump_lock=!1,this.scene=e.scene,this.key=e.key,this.body.setSize(17,47,!0)}jump(e){let t=this;e.isDown&&(0==this.inAir&&(this.body.setVelocityY(-690),this.inAir=!0,this.play("jump",!0),t.scene.time.delayedCall(400,(function(){t.jump_lock=!0}))),0==this.jump_lock&&this.body.setVelocityY(-690))}onGround(){this.play("walk",!0),this.inAir=!1,this.jump_lock=!1}}class o{constructor(e){this.scene=e}playAgain(){var e=this.scene.add.sprite(window.innerWidth/2,window.innerHeight/3,"play_again_default").setScale(.7).setInteractive().on("pointerup",(()=>{e.setTexture("play_again_default"),this.scene.scene.restart()})).on("pointerdown",(()=>e.setTexture("play_again_clicked")))}play(e,t,i){void 0===i&&(i=1);var s=this.scene.add.sprite(e,t,"play_default").setScale(i).setInteractive().on("pointerup",(()=>{s.setTexture("play_default"),this.scene.scene.start("MainScene")})).on("pointerdown",(()=>s.setTexture("play_clicked")))}leaderboard(e,t,i){void 0===i&&(i=1);var s=this.scene.add.sprite(e,t,"leaderboard_default").setScale(i).setInteractive().on("pointerup",(()=>{s.setTexture("leaderboard_default")})).on("pointerdown",(()=>s.setTexture("leaderboard_clicked")))}quit(e,t,i){void 0===i&&(i=1);var s=this.scene.add.sprite(e,t,"quit_default").setScale(i).setInteractive().on("pointerup",(()=>{s.setTexture("quit_default"),this.scene.scene.start("StartScene")})).on("pointerdown",(()=>s.setTexture("quit_clicked")))}}const d=new Array("block_1","block_2","block_3","block_4");class c extends Phaser.Scene{constructor(){super({key:"MainScene"})}create(){this.game_over=!1,this.spawn_time=3e3,this.block_speed=275,this.facing_correct=!1,this.obstacle_array=new Array,console.log("In create"),this.buttons=new o(this),this.add.tileSprite(window.innerWidth/2,0,window.innerWidth,window.innerHeight,"background_tile"),this.score_text=new s(this),this.score_text.update();var e=this.add.container(window.innerWidth/2,window.innerHeight/2).setSize(window.innerWidth,window.innerHeight),t=this.add.tileSprite(0,0,window.innerWidth,window.innerHeight/2,"brick_tile");t.y=t.height/2,e.add(t),this.ground=this.physics.add.image(.5*window.innerWidth,.5*window.innerHeight+16,"platform"),this.ground.body.setAllowGravity(!1),this.ground.setImmovable(!0),console.log(this.ground.y);const i={scene:this,x:.15*window.innerWidth,y:this.ground.y-4*this.ground.height,key:"player",scale:4};this.OBSTACLE_CONFIG={key:"block_1",x:window.innerWidth,y:this.ground.y-this.ground.height/2-52.2,scene:this,scale:.2},this.physics.world.on("worldbounds",this.onWorldBounds,this),this.spawn_timer=this.time.addEvent(this.timer_config),this.player_character=new r(i),this.player_character.play("jump"),this.physics.add.collider(this.player_character,this.ground,this.onGround,void 0,this),console.log(this.player_character),this.last_spawn=this.time.now}update(){if(this.time.now-this.last_spawn>this.spawn_time&&0==this.game_over){this.last_spawn=this.time.now,this.OBSTACLE_CONFIG.key=d[Math.floor(Math.random()*d.length)];var e=new n(this.OBSTACLE_CONFIG,this.block_speed);this.physics.add.collider(this.player_character,e.block_group,this.gameOver,void 0,this),this.obstacle_array.push(e)}this.player_character.jump(this.input.activePointer)}onWorldBounds(){this.score_text.increaseScore(),this.score_text.getScore()%10==0&&(this.block_speed+=100,this.spawn_time-=300,console.log("score update: "+this.block_speed+" "+this.spawn_time));let e=this.obstacle_array.shift();e.body.setCollideWorldBounds(!1).setVelocityX(-e.block_speed),this.time.delayedCall(300,(function(){e.destroy()}),[],this)}onGround(){this.player_character.onGround()}gameOver(){this.game_over=!0,this.player_character.setTint("0xFF0000"),this.physics.pause(),this.spawn_timer.remove(),this.player_character.play("jump",!0),this.buttons.playAgain(),this.buttons.quit(window.innerWidth/2,2*window.innerHeight/4,.7)}}class h extends Phaser.Scene{constructor(){super({key:"PreloadScene"})}preload(){this.load.image("platform","assets/img/platform.png"),this.load.image("block_1","assets/img/block_1.png"),this.load.image("block_2","assets/img/block_2.png"),this.load.image("block_3","assets/img/block_3.png"),this.load.image("block_4","assets/img/block_4.png"),this.load.spritesheet("player","assets/img/dude.png",{frameWidth:32,frameHeight:48}),this.load.image("brick_tile","assets/img/BrickTiles.png"),this.load.image("background_tile","assets/img/background_tile.png"),this.load.image("play_again_default","assets/img/button_default.png"),this.load.image("play_again_clicked","assets/img/button_clicked.png"),this.load.image("play_default","assets/img/play_default.png"),this.load.image("play_clicked","assets/img/play_clicked.png"),this.load.image("leaderboard_default","assets/img/leaderboard_default.png"),this.load.image("leaderboard_clicked","assets/img/leaderboard_clicked.png"),this.load.image("quit_default","assets/img/quit_default.png"),this.load.image("quit_clicked","assets/img/quit_clicked.png")}create(){this.anims.create({key:"walk",frameRate:5,frames:this.anims.generateFrameNumbers("player",{start:5,end:8}),repeat:-1}),this.anims.create({key:"jump",frameRate:1,frames:[{key:"player",frame:6}]}),this.scene.start("StartScene")}}class l extends Phaser.Scene{constructor(){super({key:"GameoverScene"})}create(){console.log("Game Over");var e=this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/3,"play_again_default").setInteractive().on("pointerup",(()=>{console.log("button works"),e.setTexture("play_again_default")})).on("pointerdown",(()=>e.setTexture("play_again_clicked")))}}class p extends Phaser.GameObjects.Text{constructor(e){super(e,window.innerWidth,window.innerWidth,[],{color:"black",align:"center"}),this.alpha=1,this.scene=e}create(){return this.setText("To jump press the screen \n       The longer you hold down on the screen the higher the character.\n       Watch out the longer you play the faster the blocks will come at you\n       To begin tap anywhere on the screen."),this.scene.add.existing(this),this}}class u extends Phaser.Scene{constructor(){super({key:"StartScene"})}create(){this.instructionScreen=new p(this),this.add.tileSprite(window.innerWidth/2,0,window.innerWidth,window.innerHeight,"background_tile");var e=this.add.container(window.innerWidth/2,window.innerHeight/2).setSize(window.innerWidth,window.innerHeight),t=this.add.tileSprite(0,0,window.innerWidth,window.innerHeight/2,"brick_tile");t.y=t.height/2,e.add(t);var i=this.add.image(.5*window.innerWidth,.5*window.innerHeight+16,"platform"),s=(this.add.image(.15*window.innerWidth,i.y-4*i.height,"player").setScale(4).setFlipX(!0),new o(this));this.instructionScreen.create(),s.play(window.innerWidth/2,3*window.innerHeight/9,.7),s.leaderboard(window.innerWidth/2,4*window.innerHeight/9,.7),s.quit(window.innerWidth/2,5*window.innerHeight/9,.7)}}const g={type:Phaser.AUTO,backgroundColor:"#ffffff",scale:{parent:"phaser-game",mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH,width:window.innerWidth,height:window.innerHeight,resolution:window.devicePixelRatio},scene:[h,c,l,u],physics:{default:"arcade",arcade:{debug:!1,gravity:{y:1250}}}};window.addEventListener("load",(()=>{new Phaser.Game(g)}))},204:()=>{console.log("%c %c %c %c %c Built using phaser-project-template %c https://github.com/yandeu/phaser-project-template","background: #ff0000","background: #ffff00","background: #00ff00","background: #00ffff","color: #fff; background: #000000;","background: none")}},i={};function s(e){var a=i[e];if(void 0!==a)return a.exports;var n=i[e]={exports:{}};return t[e].call(n.exports,n,n.exports,s),n.exports}s.m=t,e=[],s.O=(t,i,a,n)=>{if(!i){var r=1/0;for(h=0;h<e.length;h++){for(var[i,a,n]=e[h],o=!0,d=0;d<i.length;d++)(!1&n||r>=n)&&Object.keys(s.O).every((e=>s.O[e](i[d])))?i.splice(d--,1):(o=!1,n<r&&(r=n));if(o){e.splice(h--,1);var c=a();void 0!==c&&(t=c)}}return t}n=n||0;for(var h=e.length;h>0&&e[h-1][2]>n;h--)e[h]=e[h-1];e[h]=[i,a,n]},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={179:0};s.O.j=t=>0===e[t];var t=(t,i)=>{var a,n,[r,o,d]=i,c=0;if(r.some((t=>0!==e[t]))){for(a in o)s.o(o,a)&&(s.m[a]=o[a]);if(d)var h=d(s)}for(t&&t(i);c<r.length;c++)n=r[c],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(h)},i=self.webpackChunkphaser_project_template=self.webpackChunkphaser_project_template||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),s.O(void 0,[216],(()=>s(976)));var a=s.O(void 0,[216],(()=>s(204)));a=s.O(a)})();